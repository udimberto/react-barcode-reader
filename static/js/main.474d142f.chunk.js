(this["webpackJsonpreact-boleto-reader-example"]=this["webpackJsonpreact-boleto-reader-example"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);n(4);var a=n(0),o=n.n(a),c=n(5),r=n.n(c),i=n(3),d=n(2),s=n(7),l=n(1),u=n(6),b="_styles-module__rbr__3P2z6";function m(e){var t=e.id,n=void 0===t?"react-boleto-reader--barcode":t,c=e.init,r=void 0===c?{}:c,s=e.inputStream,u=void 0===s?{}:s,m=e.decoder,f=void 0===m?{}:m,v=e.readers,p=void 0===v?[{format:"ean_reader",config:{}},{format:"code_128_reader",config:{}}]:v,g=e.height,h=void 0===g?window.innerHeight:g,O=e.canvasWidth,j=void 0===O?1280:O,E=e.canvasHeight,w=void 0===E?720:E,y=e.aspectRatio,x=void 0===y?{min:0,max:1}:y,_=e.onError,D=void 0===_?function(){}:_,S=e.onDetected,I=void 0===S?function(){}:S,C=e.onProcessed,R=e.svgDetectingBoxes,k=void 0===R?{color:"#0086c9",lineWidth:2}:R,B=e.svgDetectingBoxesCoords,L=void 0===B?{x:0,y:1}:B,N=e.svgDetectingBox,P=void 0===N?{color:"transparent",lineWidth:2}:N,W=e.svgDetectingLine,z=void 0===W?{color:"rgb(239, 60, 62)",lineWidth:8}:W,H=Object(a.useState)(window.innerWidth),A=Object(d.a)(H,2),J=A[0],T=A[1],V=Object(a.useState)(null),M=Object(d.a)(V,2),U=M[0],q=M[1],F=parseInt(h,10),G=F/2,K=w/2,Q=K-parseInt(h,10)/2,X=F>w?"".concat(G-K,"px"):"-".concat(Q-40,"px"),Y=Object(a.useCallback)((function(){try{Object(l.init)(Object(i.a)(Object(i.a)({inputStream:Object(i.a)({type:"LiveStream",target:"#".concat(n),constraints:{width:j,height:w,facingMode:"environment",aspectRatio:x}},u),frequency:5,singleChannel:!0,locate:!0,locator:{patchSize:"medium",halfSample:!0}},r),{},{decoder:Object(i.a)({readers:p},f)}),(function(e){if(e)return D(e),void console.error(e);Object(l.start)()})),Object(l.onDetected)((function(e){var t=(e||{}).codeResult.code;I(e,t)})),Object(l.onProcessed)((function(e){if("function"===typeof C&&C(e),(!!k||P||z)&&e&&"object"===typeof e){var t=l.canvas.ctx.overlay,n=l.canvas.dom.overlay,a=e.box,o=e.boxes,c=e.codeResult,r=e.line,i=(c||{}).code;o&&k&&(t.clearRect(0,0,parseInt(n.getAttribute("width")),parseInt(n.getAttribute("height"))),o.filter((function(e){return e!==a})).forEach((function(e){l.ImageDebug.drawPath(e,L,t,k)}))),a&&P&&l.ImageDebug.drawPath(a,{x:0,y:1},t,P),i&&z&&l.ImageDebug.drawPath(r,{x:"x",y:"y"},t,z)}}))}catch(e){D(e)}}),[]);return Object(a.useLayoutEffect)((function(){function e(){Object(l.offDetected)(),Object(l.offProcessed)(),Object(l.stop)(),window.removeEventListener("resize",t)}function t(){clearTimeout(U),J!==window.innerWidth&&(e(),q(setTimeout((function(){Y(),T(window.innerWidth)}),1500)))}return Y(),window.addEventListener("resize",t),e}),[Y]),o.a.createElement("div",{id:n,className:b,style:{"--rbr-canvas-top":X,height:h}})}function f(e){var t=e.id,n=void 0===t?"react-boleto-reader":t,c=e.readers,r=void 0===c?["i2of5_reader"]:c,i=e.aspectRatio,d=void 0===i?{min:1,max:2}:i,l=e.onDetected,b=void 0===l?function(){}:l,f=Object(s.a)(e,["id","readers","aspectRatio","onDetected"]),v=Object(a.useCallback)((function(e,t){var n=function(e){var t=new u.a(String(e));return t&&t.valid()?t.toJSON():null}(t);n&&b(n,t)}),[]);return o.a.createElement(m,Object.assign({id:n,readers:r,aspectRatio:d,onDetected:v},f))}n(15);var v=function(){var e=["boleto","barcode"],t="example_tabs",n=Object(a.useState)(e[0]),c=Object(d.a)(n,2),r=c[0],s=c[1],l=Object(a.useState)(null),u=Object(d.a)(l,2),b=u[0],v=u[1],p=Object(a.useState)(null),g=Object(d.a)(p,2),h=g[0],O=g[1],j=Object(a.useState)(!1),E=Object(d.a)(j,2),w=E[0],y=E[1],x=Object(a.useState)(0),_=Object(d.a)(x,2),D=_[0],S=_[1];function I(){v(null),O(null),y(!0)}var C=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.getElementById(e);return t&&t.offsetHeight?t.offsetHeight:0}),[]);return Object(a.useLayoutEffect)((function(){function e(){var e=C(t),n=C("example_header");S("".concat(window.innerHeight-(e+n),"px"))}return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[C]),o.a.createElement("main",null,o.a.createElement("header",{id:"example_header",className:"header"},o.a.createElement("h1",null,"Boleto & Barcode Readers")),o.a.createElement("section",null,o.a.createElement("div",{id:t,className:"tabs"},e.map((function(e){return o.a.createElement("button",{type:"button",id:"".concat(t,"_btn_").concat(e),key:"".concat(t,"_btn_").concat(e),className:e===r?" active":"",onClick:function(){return s(e)},disabled:!w},e)}))),w?o.a.createElement("div",{id:"readers"},"boleto"===r&&o.a.createElement("div",{id:"".concat(t,"_reader_boleto")},o.a.createElement(f,{height:D,onDetected:function(e){var t=e.barcode,n=e.banks,a=e.expired,o=e.expiredDays,c=e.expirationDate,r=e.prettyAmount,i=e.type;window.confirm("Estes s\xe3o os dados do boleto? ".toUpperCase()+"\n\nTipo: \n".concat(i," ")+"\n\nBanco: \n".concat(n," ")+"\n\nValor: \n".concat(r," ")+"\n\nVencimento: \n".concat(c)+"\n\nVencido: \n".concat(a?"SIM":"N\xc3O")+"\n\nDias Vencido: \n".concat(o)+"\n\nC\xf3digo de Barras: \n".concat(t)+'\n(\xc9 diferente do n\xfamero impresso no boleto, o chamado "linha digit\xe1vel")')&&(y(!1),v(e))}})),"barcode"===r&&o.a.createElement("div",{id:"".concat(t,"_reader_barcode")},o.a.createElement(m,{height:D,onDetected:function(e,t){window.confirm("Is the correct code? ".toUpperCase()+"\n\n".concat(t," "))&&(y(!1),O(Object(i.a)({code:t},e)))}}))):b||h?o.a.createElement("article",{id:"result"},o.a.createElement("pre",{dangerouslySetInnerHTML:{__html:JSON.stringify(b||h||{}).replace(/{/g,"{<br />  ").replace(/":/g,'": ').replace(/,"/g,',<br />  "').replace(/}/g,"<br />}")}}),o.a.createElement("footer",{id:"result_footer"},o.a.createElement("button",{type:"button",onClick:I},"Read Again"))):o.a.createElement("article",{id:"start"},o.a.createElement("button",{type:"button",onClick:I},"Start Reading"))))};r.a.render(o.a.createElement(v,null),document.getElementById("root"))},4:function(e,t,n){},8:function(e,t,n){e.exports=n(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.474d142f.chunk.js.map